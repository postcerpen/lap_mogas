<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-2"></div>
      <!-- <div class="col-md-8"><h1 style="">Hai Dunia!</h1> -->
        <h1>Hai Dunia!</h1>
        <p>Update Harga Mogas: <span style="color: black; font-weight: bold;">14150</span>/Liter</p>
        <button onclick="showhide()">Peraturan</button>
        <div id="rule" style="background-color: black;  width: 220px; padding-left: 2px; padding-right: 20px; padding-top: 5px; padding-bottom: 5px;">
            <ul>
                <li style="color: white;">Jangan gunakan titik atau koma</li>
                <li style="color: white;">Sebelum dimulai cek harga terlebih dahulu </li>
                <li style="color: white;">Contoh penulisan benar: <span style="color:rgb(135, 219, 8);">80000</span></li>
                <li style="color: white;">Contoh penulisan salah: <span style="color: red;">80.000</span></li>
                <li style="color: white;">Contoh penulisan salah: <span style="color: red;">80,000</span></li>
            </ul>
        </div>
        <form name="datapribadi" method="" action="">
    <div style="margin-top: 20px;" class="form-group">
      <label for="exampleFormControlInput1">Hasil Shift 1</label>
      <input type="text"  class="form-control" name="nama" id="exampleFormControlInput1" placeholder="Hasil Rupiah Shift1">
      <br>
      <label for="exampleFormControlInput1">Hasil Shift 2</label>
      <input type="text" class="form-control" name="email" id="exampleFormControlInput2" placeholder="Hasil Rupiah Shift2">
    </div>
    
    <div class="form-group">
      <!-- <label for="exampleFormControlTextarea1">Alamat</label> -->
      <!-- <textarea class="form-control mb-3" name="alamat" id="exampleFormControlTextarea1" rows="3"></textarea> -->
      <button type="button" onClick='inputdata()' class="btn btn-success">Simpan</button>
      <button type="reset" class="btn btn-warning">Batal</button>
    </div>
    <div class="row">
      <table class="table" id="databel">
        <thead>
          <tr>
            <th scope="col">Shift 1</th>
            <th scope="col">Shift 2</th>
            <!-- <th scope="col">Agama</th>
            <th scope="col">Alamat</th> -->
          </tr>
        </thead>
      </table>  
    </div>
    <div id="asd1"></div>
    <div id="asd2"></div>
    <div id="asd3"></div>
    <div id="asd4"></div>
    <textarea name="" id="asd5" cols="35" rows="20">
      
    </textarea><br>
    <button id="copyBtn">Salin teks</button>
  </form>
      </div>          
      <div class="col-md-2"></div>
    </div>
  </div>
  

  <!-- Optional JavaScript -->
  <script >
      function inputdata(){
    var n=document.forms['datapribadi']['nama'].value;
    var e=document.forms['datapribadi']['email'].value;

  
  if(e === "" ||  n === ""){
    alert("Isi data terlebih dahulu")
    return false;
  }
  //sembunyikan koma dan titik beserta huruf
  function hanyaAngka(evt) {
  var charCode = (evt.which) ? evt.which : event.keyCode
  if (charCode > 31 && (charCode < 48 || charCode > 57))
  return alert('asd');
  return true;
  }
                                            
    var tabel = document.getElementById("databel");
    var baris = tabel.insertRow(1);
    var kol1 = baris.insertCell(0);
    var kol2 = baris.insertCell(1);
            
    kol1.innerHTML = n;
    kol2.innerHTML = e;

  //tanggal bahasa Indonesia
  let hari = ["Ahad", 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
  let bulan = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus',
  'September', 'Oktober', 'November', 'Desember'];

  let tanggal = new Date().getDate();
  let _hari = new Date().getDay();
  let _bulan = new Date().getMonth();
  let _tahun= new Date().getFullYear();

  let day = hari[_hari];
  let month = bulan[_bulan]; 

  let tahun = (_tahun < 1000) ? _tahun + 1900 : _tahun;
  // Hasil
  const mogasHarga = 14150;
  const hasil1 = n / mogasHarga;
  const hasil2 = e / mogasHarga;
  const hasilAkhir = hasil1 + hasil2;
  const hargaAkhir = hasilAkhir * mogasHarga;
  
  // document.getElementById("asd1").innerHTML = hasil1.toFixed(2);
  // document.getElementById("asd2").innerHTML = hasil2.toFixed(2);
  // document.getElementById("asd3").innerHTML = hasilAkhir.toFixed(2);
  // document.getElementById("asd4").innerHTML = hargalAkhir;
  document.getElementById("asd5").innerHTML = 
`  ${day}, ${tanggal} ${month} ${tahun}
=== MOGAS ===

=== Shift 01 === 
Liter keluar : ${hasil1.toFixed(2)}
Uang Tunai   : Rp ${n}
Voucher      : -
Total Uang   : Rp ${n}
                           
=== Shift 02 ===
Liter keluar : ${hasil2.toFixed(2)}
Uang Tunai   : Rp ${e}
Voucher      : -
Total Uang   : Rp ${e}
                           
TOTAL LITER KELUAR  : ${hasilAkhir.toFixed(2)} Liter
TOTAL UANG MOGAS    : Rp ${hargaAkhir.toFixed(0)}
                           
=== Sparepart ===
Uang Tunai    : Rp -
Voucher       : -
Total Uang    : Rp -
                           
TOTAL UANG KESELURUHAN : Rp ${hargaAkhir.toFixed(0)}` 
   }
    
    document.getElementById("copyBtn")
    .onclick = function() {
      let text = document.getElementById("asd5").value;
      navigator.clipboard.writeText(text)
        .then(() => {
          alert('Text copied to clipboard');
        })
        .catch(err => {
          alert('Error in copying text: ', err);
        });
    }
    //Salin teks
   function myFunction() {
    // Get the text field
    var copyText = document.getElementById("asd5");

    // Select the text field
    copyText.select();
    copyText.setSelectionRange(0, 99999); // For mobile devices

    // Copy the text inside the text field
    navigator.clipboard.writeText(copyText.value);

    // Alert the copied text
    alert("Berhasil di salin, klik oke");
   }
   //validasi
   // func validate
   //shift 1
   const h1 = document.getElementById("exampleFormControlInput1");
   const h2 = document.getElementById("exampleFormControlInput2");
   h1.onkeypress = function(e){
    if(e.keyCode <= 48 || e.keyCode >= 57){
       alert('Gunakan angka saja, ikuti peraturannya bung')
       return false;
     }
   }
   h2.onkeypress = function(e){
    if(e.keyCode <= 48 || e.keyCode >= 57){
       alert('Gunakan angka saja, ikuti peraturannya bung')
       return false;
     }
   }
  //  h1.onkeypress = function(e){
  //   validation();
  //  }
  //  h2.onkeypress = function(e){
  //   validation();
  //  }
  //show hide
  function showhide() {
  var x = document.getElementById("rule");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
   </script> 
</body>
</html>